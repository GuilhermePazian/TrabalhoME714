dados <- read.table("recrutas.dat")
View(dados)
dados <- read.table("recrutas.dat", header = T)
colnames(dados) <- c("Hab. de nadar", "Local", "Faixa etária", "Sexo", "Nº de infecções")
table(is.na(dados))
library(dplyr)
dados %>% group_by(`Hab. de nadar`, `Nº de infecções`)
table(dados$`Hab. de nadar`, dados$`Nº de infecções`)
table(dados$`Nº de infecções`)
table(dados$Local, dados$`Nº de infecções`)
table(dados$`Faixa etária`, dados$`Nº de infecções`)
table(dados$Sexo, dados$`Nº de infecções`)
20+ 22 +11+  3+  3+  1+  0+  1
20 +17 +15 +10  +2  +3  +3  +2  +1  +1 + 1
dados %>% group_by(`Faixa etária`) %>% summarise(contagem = count(`Nº de infecções`))
str(dados)
dados %>% group_by(`Faixa etária`) %>% summarise(contagem = sum(`Nº de infecções`))
dados %>% group_by(`Faixa etária`) %>% summarise(contagem = sum(`Nº de infecções`))
dados %>% filter(`Faixa etária`=="15-19")
dados %>% filter(`Faixa etária`=="15-19") %>% summarise(c= sum(`Nº de infecções`))
dados %>% group_by(`Faixa etária`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Hab. de nadar`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(Local) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Faixa etária`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(Sexo) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Hab. de nadar`, Local) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Hab. de nadar`, Sexo) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Hab. de nadar`, Sexo) %>% summarise(Cont_num_infec = prop.table(`Nº de infecções`))
dados %>% group_by(Local, `Faixa etária`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Hab. de nadar`, `Faixa etária`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados <- read.table("/home/hugo/Documentos/Discretos/discretos_2017/codigos/parte_poisson/breslow.dat")
tdados <- rbind(dados[1:4,1],dados[1:4,2],
dados[5:8,1],dados[5:8,2],
dados[9:12,1],dados[9:12,2],
dados[13:16,1],dados[13:16,2])
tdados <- matrix(tdados,nrow=8,byrow=FALSE)
dimnames(tdados)<- list(c("0","","1-9","","10-30","","+30",""),
c("40-49","50-59","60-69","70-80"))
names(dimnames(tdados)) <- c("Consumo m?dio di?rio de cigarros","    Faixa et?ria")
tdados
auxncig <- as.factor(dados[,3])
auxfe <- as.factor(dados[,4])
auxncig<-revalue(auxncig, c("1"="0", "2"="1-9","3"="10-30","4"="+30"))
auxfe<-revalue(auxfe, c("1"="40-49", "2"="50-59","3"="60-69","4"="70-80"))
dadosc <- data.frame(dados[,1],dados[,2],auxncig,auxfe)
colnames(dadosc) <- c("nmortes","panos","consumo","fetaria")
library(plyr)
library(xtable)
library(plotrix)
auxncig <- as.factor(dados[,3])
auxfe <- as.factor(dados[,4])
auxncig<-revalue(auxncig, c("1"="0", "2"="1-9","3"="10-30","4"="+30"))
auxfe<-revalue(auxfe, c("1"="40-49", "2"="50-59","3"="60-69","4"="70-80"))
dadosc <- data.frame(dados[,1],dados[,2],auxncig,auxfe)
colnames(dadosc) <- c("nmortes","panos","consumo","fetaria")
taxas <- dadosc$nmortes/dadosc$panos
par(mfrow=c(1,1))
plot(taxas[dadosc$consumo=="0"],pch=19,lty=1,type="b",cex=1.2,cex.axis=1.2,cex.lab=1.2,axes=F,ylim=c(0,0.01430429),xlab="faixa et?ria",ylab="taxa de mortes")
lines(taxas[dadosc$consumo=="1-9"],pch=17,lty=2,type="b",cex=1.2,cex.axis=1.2,cex.lab=1.2)
lines(taxas[dadosc$consumo=="10-30"],pch=15,lty=3,type="b",cex=1.2,cex.axis=1.2,cex.lab=1.2)
lines(taxas[dadosc$consumo=="+30"],pch=18,lty=4,type="b",cex=1.2,cex.axis=1.2,cex.lab=1.2)
axis(2,seq(0,0.015,length.out=7))
axis(1,c(1,2,3,4),labels=c("40-49","50-59","60-69","70-80"))
legend(1,0.008,c("0","1-9","10-30","+30"),lty=c(1,2,3,4),pch=c(19,17,15,18),bty="n",cex=1.3)
dados %>% group_by(Sexo) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Hab. de nadar`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
library(dplyr)
dados <- read.table("recrutas.dat")
colnames(dados) <- c("Hab. de nadar", "Local", "Faixa etária", "Sexo", "Nº de infecções")
table(dados$`Hab. de nadar`, dados$`Nº de infecções`)
table(dados$Local, dados$`Nº de infecções`)
table(dados$`Faixa etária`, dados$`Nº de infecções`)
table(dados$Sexo, dados$`Nº de infecções`)
dados %>% group_by(`Hab. de nadar`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(Local) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Faixa etária`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(Sexo) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(Sexo) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(Sexo) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
library(dplyr)
dados <- read.table("recrutas.dat")
colnames(dados) <- c("Hab. de nadar", "Local", "Faixa etária", "Sexo", "Nº de infecções")
#table(is.na(dados))
table(dados$`Hab. de nadar`, dados$`Nº de infecções`)
table(dados$Local, dados$`Nº de infecções`)
table(dados$`Faixa etária`, dados$`Nº de infecções`)
table(dados$Sexo, dados$`Nº de infecções`)
dados %>% group_by(`Hab. de nadar`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(Local) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Faixa etária`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(Sexo) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Hab. de nadar`, Local) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Hab. de nadar`, Sexo) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(Local, `Faixa etária`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Hab. de nadar`, `Faixa etária`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(`Hab. de nadar`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
View(dados)
table(dados$`Hab. de nadar`, dados$`Nº de infecções`)
dados %>% group_by(`Hab. de nadar`) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
dados %>% group_by(Local) %>% summarise(Cont_num_infec = sum(`Nº de infecções`))
